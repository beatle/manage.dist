{"version":3,"sources":["../../../server/config/express.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;;;;;uBAEO,SAAS;;;;4BACT,eAAe;;;;sBAChB,QAAQ;;;;2BACH,aAAa;;;;0BACd,aAAa;;;;8BACT,iBAAiB;;;;4BACnB,eAAe;;;;4BACf,cAAc;;;;oBACtB,MAAM;;;;2BACJ,eAAe;;;;qBAGnB,UAAS,GAAG,EAAE;AAC3B,MAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;AAEzB,KAAG,CAAC,GAAG,CAAC,+BAAa,CAAC,CAAC;AACvB,KAAG,CAAC,GAAG,CAAC,wBAAW,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AACpD,KAAG,CAAC,GAAG,CAAC,wBAAW,IAAI,EAAE,CAAC,CAAC;AAC3B,KAAG,CAAC,GAAG,CAAC,kCAAgB,CAAC,CAAC;AAC1B,KAAG,CAAC,GAAG,CAAC,gCAAc,CAAC,CAAC;;AAExB,KAAG,CAAC,GAAG,CAAC,UAAS,GAAG,EAAE,GAAG,EAAE,IAAI,EAAC;AAC9B,OAAG,CAAC,IAAI,GAAG;AACT,QAAE,EAAG,GAAG;AACR,eAAS,EAAG,GAAG;AACf,cAAQ,EAAG,CAAC;KACb,CAAC;AACF,WAAO,IAAI,EAAE,CAAC;GACf,CAAC,CAAC;;AAEH,KAAG,CAAC,GAAG,CAAC,SAAS,EAAE,kBAAK,IAAI,CAAC,yBAAO,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;;AAErD,MAAI,YAAY,KAAK,GAAG,EAAE;AACxB,OAAG,CAAC,GAAG,CAAC,+BAAQ,kBAAK,IAAI,CAAC,yBAAO,IAAI,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;AAClE,OAAG,CAAC,GAAG,CAAC,8BAAc,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC5C,OAAG,CAAC,GAAG,CAAC,yBAAO,KAAK,CAAC,CAAC,CAAC;GACxB;;AAED,MAAI,aAAa,KAAK,GAAG,EAAE;AACzB,OAAG,CAAC,GAAG,CAAC,OAAO,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;GAC1C;;AAED,MAAI,aAAa,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,EAAE;AAC3C,OAAG,CAAC,GAAG,CAAC,8BAAc,CAAC,kBAAK,IAAI,CAAC,yBAAO,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;AACxD,OAAG,CAAC,GAAG,CAAC,8BAAc,CAAC,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;AAC5C,OAAG,CAAC,GAAG,CAAC,yBAAO,KAAK,CAAC,CAAC,CAAC;AACvB,OAAG,CAAC,GAAG,CAAC,gCAAc,CAAC,CAAC;GACzB;CACF","file":"express.js","sourcesContent":["/**\n * Express configuration\n */\n\n'use strict';\n\nimport express from 'express';\nimport favicon from 'serve-favicon';\nimport morgan from 'morgan';\nimport compression from 'compression';\nimport bodyParser from 'body-parser';\nimport methodOverride from 'method-override';\nimport cookieParser from 'cookie-parser';\nimport errorHandler from 'errorhandler';\nimport path from 'path';\nimport config from './environment';\n\n\nexport default function(app) {\n  var env = app.get('env');\n\n  app.use(compression());\n  app.use(bodyParser.urlencoded({ extended: false }));\n  app.use(bodyParser.json());\n  app.use(methodOverride());\n  app.use(cookieParser());\n\n  app.use(function(req, res, next){\n    req.user = {\n      id : 112,\n      client_id : 173,\n      group_id : 2\n    };\n    return next();\n  });\n\n  app.set('appPath', path.join(config.root, 'client'));\n\n  if ('production' === env) {\n    app.use(favicon(path.join(config.root, 'client', 'favicon.ico')));\n    app.use(express.static(app.get('appPath')));\n    app.use(morgan('dev'));\n  }\n\n  if ('development' === env) {\n    app.use(require('connect-livereload')());\n  }\n\n  if ('development' === env || 'test' === env) {\n    app.use(express.static(path.join(config.root, '.tmp')));\n    app.use(express.static(app.get('appPath')));\n    app.use(morgan('dev'));\n    app.use(errorHandler()); // Error handler - has to be last\n  }\n}\n"]}